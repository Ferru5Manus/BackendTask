# BackendTask
Подготовка к работе(Linux server):
-----------
1. В первую очередь для развёртывания решения вам понадобится docker, руководство по установке находится здесь:
```
https://docs.docker.com/desktop/install/linux-install/
```
2. Далее нужно скачать проект в выбранную вами директорию, с помощью команды:
```
git clone https://github.com/Romario1222/BackendTask
```
3. После переходим в директорию с названием BackendTask, после чего прописываем команду:
```
docker compose up --build
```
4. Проект развёрнут.

Работа с запросами:
-----------
0. ��� ������������ �� ������ ������ �������� ���������, � ������ ������ ���������, ����� ������� ����� ��������� ����� ������.
	-���������� ��� �������� ������:
 		-id ������������ - int,
		-username - string, ������ �� ������ ��������� ��������� ������� \"';<>?/{}[]@#$%^&*()-+=_ � ������, ����� ������ ������ ���������� �� 8 �� 50 ��������.
		-password - string, ������ �� ������ ��������� ��������� ������� \"';<>?/{}[]@#$%^&*()-+=_ � ������, ����� ������ ������ ���������� �� 8 �� 50 ��������.

1. ��� ��������� ������������ ����� id � GET ������� /getUser � ���� json ���� ��������� id (id:(���� ������������(�����))), � �������� ������ ����� ������� ��������� � json ValidatedUserDto. � ������ ������������� ������, ��� ��������� ������������ � ���� ������, ����� ������� ����� ��������� ����� ������.
2. ��� ��������� ������������ ����� ��� ������������ � GET ������� /getUser � ���� json ���� ��������� username (username:(��� ������������(������))),� �������� ������ ����� ������� ��������� � json ValidatedUserDto. � ����� ������������� ������ ��� ��������� ������������ � ���� ������, ����� ������� ����� ��������� ����� ������.
3. ��� �������� ������������ ����� � PUT ������� /createUser ��������� username � password � ���� json, � ������ ������ ��� �������� ������������ ����� ������� ����� ��������� ����� ������, ���� ������������ ��� �������� ������� ����� ������� ����� ��������� User Added!
4. ��� �������� ������������ ����� � DELETE ������� /deleteUser ��������� id ������������ � ���� json, � ������ ������ ��� �������� ������������
����� ������� ����� ��������� ����� ������, ���� ������������ ��� ����� ����� ������� ����� ��������� Deleted user!
5. ��� ��������� ������������ ����� � POST ������� /updateUser ��������� id, username, password ������������ � ���� json, � ������ ������ ����� ������� ����� ��������� ����� ������, ����� � �������� ������ ����� ������� ��������� � json ValidatedUserDto.

Работа с базой данных:
-----------
1. Работу с базой данных осуществляет класс UserDatabaseRepository.
1.1 Для проверки наличия таблицы используется метод IsTableExist().
1.2 Для создания таблицы в случае её отсутствия используется метод ConfigureDb().
2. Для записи новой строки в базу данных используется метод CreateUser, принимающий на вход экземпляр класса ValidatedUserDto,после проверки данных в экземпляре ValidatedUserDto, в случае если валидация пройдена, записывает
в базу данных нового пользователя.В случае ошибки записи в базу данных, в консоль будет написан текст ошибки.
3. Для обновления данных в строке в базе данных используется метод UpdateUser, принимающий на вход экземпляр класса ValidatedUserDto, после проверки данных в экземпляре ValidatedUserDto, в случае если валидация пройдена, изменяет данные пользователя с соответствущим Id. Для обновления доступны поля username,password,updated_at. В случае ошибки обновления в базе данных, в консоль будет написан текст ошибки.
4. Для удаления из строки из базы данных используется метод DeleteUser, принимающий на вход экземпляр класса ValidatedUserDto, после проверки данных в экземпляре ValidatedUserDto, в случае если валидация пройдена, удаляет пользователя с соответствущим Id. В случае ошибки удаления записи в базе данных, в консоль будет написан текст ошибки.
5. Для получения данных о пользователе используются методы GetUserByName, GetUserById, первый принимает на вход имя пользователя, а второй id пользователя.После этого из базы данных получается пользователь с соответствующим именем пользователя/id. Метод возвращает объект ValidatedUserDto.В случае ошибки получения данных в консоль будет выведена ошибка, а метод вернёт null.
